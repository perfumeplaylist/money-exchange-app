---
alwaysApply: true
---

# ğŸ“Š TanStack React Table ì»¨ë²¤ì…˜ (CareUP Â· Tailwind ê¸°ë°˜)

> ë³¸ ì»¨ë²¤ì…˜ì€ **TanStack React Table + Tailwind CSS** ì¡°í•©ì„ ê¸°ì¤€ìœ¼ë¡œ í•œë‹¤.  
> ìŠ¤íƒ€ì¼ì€ `style.ts / styled-components`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©°, **Tailwind class ê¸°ë°˜**ìœ¼ë¡œ í†µì¼í•œë‹¤.

---

## 1. ê¸°ë³¸ ì² í•™ (Principles)

### 1.1 TanStack Tableì˜ ì—­í• 

- TanStack Tableì€ **headless table engine**
- âœ… ë°ì´í„° â†’ row ëª¨ë¸ ë³€í™˜, ì •ë ¬/í˜ì´ì§• ìƒíƒœ ê´€ë¦¬ë§Œ ë‹´ë‹¹
- âŒ DOM êµ¬ì¡°, ë ˆì´ì•„ì›ƒ, ìŠ¤íƒ€ì¼ ì±…ì„ ì—†ìŒ

```ts
useReactTable({
  data,
  columns,
  getCoreRowModel: getCoreRowModel(),
});
```

### 1.2 UI / ë¡œì§ / ìŠ¤íƒ€ì¼ ë¶„ë¦¬

| ì˜ì—­           | ì±…ì„                             |
| -------------- | -------------------------------- |
| createColumns  | ì»¬ëŸ¼ ì •ì˜ + ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§        |
| WorkerTable    | í…Œì´ë¸” êµ¬ì¡° / ë Œë”ë§             |
| Tailwind class | ìŠ¤íƒ€ì¼ í‘œí˜„                      |
| utils          | ì»¬ëŸ¼ ID, width ê³„ì‚° ë“± ìˆœìˆ˜ ë¡œì§ |

## 2. íŒŒì¼ & ë””ë ‰í† ë¦¬ êµ¬ì¡° ê·œì¹™

```
WorkerTable/
 â”£ WorkerTable.tsx        # í…Œì´ë¸” View ì»´í¬ë„ŒíŠ¸
 â”£ columns.ts             # createColumns íŒ©í† ë¦¬
 â”£ utils.ts               # getColumnId, width ê³„ì‚°
```

**Rules:**

- âŒ Table ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ column ì •ì˜ ê¸ˆì§€
- âŒ inline style ì§ì ‘ ê³„ì‚° ê¸ˆì§€ (ì˜ˆì™¸: CSS variable ì£¼ì…)
- âœ… ì»¬ëŸ¼ì€ í•­ìƒ createColumns()ë¡œ ìƒì„±

## 3. Columns ì»¨ë²¤ì…˜

### 3.1 ì»¬ëŸ¼ ì •ì˜ ê·œì¹™

- ëª¨ë“  ì»¬ëŸ¼ì€ ê³ ìœ í•œ column id í•„ìˆ˜
- header / cell ë Œë”ë§ì€ flexRender ê¸°ì¤€
- ì»¬ëŸ¼ì€ ìˆœìˆ˜ í•¨ìˆ˜ í˜•íƒœ ìœ ì§€

```ts
createColumns({
  badgeInfo,
  companyType,
  ...
});
```

### 3.2 ì»¬ëŸ¼ ë‚´ë¶€ ì œí•œ ì‚¬í•­

**âŒ ê¸ˆì§€:**

```ts
useState();
useEffect();
```

**âœ… í—ˆìš©:**

- props ê¸°ë°˜ ì¡°ê±´ ë¶„ê¸°
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ìœ„ì„
- UI ì»´í¬ë„ŒíŠ¸ ì¡°í•©

## 4. ìƒíƒœ ê´€ë¦¬ Rules

### 4.1 Table ë‚´ë¶€ ìƒíƒœ ìµœì†Œí™”

```ts
const sorting: SortingState = [];
const rowSelection: RowSelectionState = {};
```

- sorting / pagination / selectionì€ ì™¸ë¶€ ì œì–´
- í…Œì´ë¸”ì€ stateless view ì—­í• 

### 4.2 Selection ë¡œì§

- rowSelection ê¸°ë°˜ UI âŒ
- ë„ë©”ì¸ ê¸°ì¤€(userId ë“±)ìœ¼ë¡œ ì„ íƒ ì—¬ë¶€ íŒë‹¨

```ts
const isSelected = selectWorkerList.some(
  (d) => d.userId === row.original.userId
);
```

## 5. ë Œë”ë§ ê·œì¹™

### 5.1 Table êµ¬ì¡° ê³ ì •

```tsx
<table>
  <thead />
  <tbody />
</table>
```

- header / body êµ¬ì¡°ëŠ” í•­ìƒ ëª…ì‹œì ìœ¼ë¡œ ë¶„ë¦¬
- placeholder header ë°˜ë“œì‹œ ì²´í¬

```ts
header.isPlaceholder ? null : ...
```

### 5.2 No Data ì²˜ë¦¬ ê·œì¹™

```tsx
if (!workerList.length) {
  return (
    <tr>
      <td colSpan={table.getAllColumns().length}>
        <NoData />
      </td>
    </tr>
  );
}
```

**Rules:**

- âŒ table ì™¸ë¶€ì—ì„œ NoData ë¶„ê¸° ê¸ˆì§€
- âœ… table row êµ¬ì¡° ìœ ì§€
- âœ… colSpanì€ getAllColumns().length ì‚¬ìš©

## 6. Tailwind ìŠ¤íƒ€ì¼ë§ ì»¨ë²¤ì…˜

### 6.1 className ì‘ì„± ì›ì¹™

- âŒ ì¡°ê±´ë¶€ class ë¡œì§ ê³¼ë„í•œ ë¶„ê¸° ê¸ˆì§€
- âœ… clsx / cn ìœ í‹¸ ì‚¬ìš©

```ts
cn("px-4 py-3 text-sm", isSelected && "bg-blue-50");
```

### 6.2 Width / Layout ì²˜ë¦¬

- ì»¬ëŸ¼ widthëŠ” CSS variable ê¸°ë°˜
- TailwindëŠ” variable ì†Œë¹„ ì—­í• ë§Œ ìˆ˜í–‰

```tsx
<div className="w-[var(--col-width)]" style={{ "--col-width": `${width}px` }} />
```

## 7. ì„±ëŠ¥ ìµœì í™” ì»¨ë²¤ì…˜

### 7.1 memo / useMemo ì‚¬ìš© ê¸°ì¤€

| ëŒ€ìƒ             | ì´ìœ                     |
| ---------------- | ----------------------- |
| WorkerTable      | í…Œì´ë¸” ì „ì²´ ë¦¬ë Œë” ë°©ì§€ |
| columns          | ì»¬ëŸ¼ ì¬ìƒì„± ë°©ì§€        |
| TableBodyContent | row ë Œë”ë§ ë¹„ìš© ê°ì†Œ    |

```ts
export default memo(WorkerTable);
```

### 7.2 useMemo ì˜ì¡´ì„± ê´€ë¦¬

- âŒ ê°ì²´/í•¨ìˆ˜ ì¦‰ì„ ìƒì„± ê¸ˆì§€
- âœ… ì‹¤ì œ ë³€ê²½ë˜ëŠ” ê°’ë§Œ ëª…ì‹œ

```ts
[workerList.length, table, selectWorkerList, columnWidths, t];
```

## 8. ê¸ˆì§€ ì‚¬í•­ (Anti-pattern)

**âŒ Table ì»´í¬ë„ŒíŠ¸ì—ì„œ:**

- ì»¬ëŸ¼ ì •ì˜
- API í˜¸ì¶œ
- ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì‚° ë¡œì§
- ë„ë©”ì¸ ìƒíƒœ ê´€ë¦¬

**âŒ TanStack ìƒíƒœë¥¼ source of truthë¡œ ì‚¬ìš©**

**âŒ columnDef ì•ˆì—ì„œ ì§ì ‘ ìŠ¤íƒ€ì¼ ë¡œì§ ê³„ì‚°**

## 9. ì´ ì»¨ë²¤ì…˜ì˜ ì˜ë„

- âœ… í…Œì´ë¸” êµ¬ì¡° í‘œì¤€í™”
- âœ… ì»¬ëŸ¼ êµì²´ë§Œìœ¼ë¡œ ì¬ì‚¬ìš© ê°€ëŠ¥
- âœ… Tailwind ê¸°ë°˜ ë””ìì¸ ì‹œìŠ¤í…œê³¼ ìì—°ìŠ¤ëŸ½ê²Œ ê²°í•©
- âœ… ì„œë²„ ì¤‘ì‹¬ ìƒíƒœ ê´€ë¦¬ì— ì•ˆì „

## 10. í•œ ì¤„ ìš”ì•½

> TanStack Tableì€ ì—”ì§„,  
> í…Œì´ë¸”ì€ View,  
> TailwindëŠ” í‘œí˜„ ê³„ì¸µì´ë‹¤
